# Pentest Domain Expansion - Batch Generation Index

## Overview

This directory contains **5 batch prompt files** to generate **21 new pentest lessons** (lessons 10-30) using ChatGPT. Each batch is sized to fit within ChatGPT's response limits.

## Why Batch Prompts?

The original [BATCH_LESSONS_PROMPT_PENTEST.md](BATCH_LESSONS_PROMPT_PENTEST.md) requested all 21 lessons at once, but ChatGPT responded:
> "I'm sorry, but I can't produce that much content in one response."

These smaller batch files solve this problem by generating 2-6 lessons per prompt.

## Batch Files Overview

| Batch | File | Lessons | Topics | Time Estimate |
|-------|------|---------|--------|---------------|
| **1** | [BATCH_01_WEB_TESTING.md](BATCH_01_WEB_TESTING.md) | 5 (10-14) | Burp Suite, Web Enumeration, Directory Traversal, LFI/RFI, File Upload | 15-20 min |
| **2** | [BATCH_02_SCANNING_PASSWORDS.md](BATCH_02_SCANNING_PASSWORDS.md) | 4 (15-18) | Nessus, Nmap NSE, Password Attacks, NTLM Relay | 12-15 min |
| **3** | [BATCH_03_METASPLOIT.md](BATCH_03_METASPLOIT.md) | 4 (21-24) | Metasploit Fundamentals, Payloads, Post-Exploitation, Automation | 12-15 min |
| **4** | [BATCH_04_PIVOTING_RECON.md](BATCH_04_PIVOTING_RECON.md) | 6 (25-30) | Linux/Windows Pivoting, Tunneling, Protocol Enum, LOLBins, Public Exploits | 18-22 min |
| **5** | [BATCH_05_CLIENT_SIDE_EVASION.md](BATCH_05_CLIENT_SIDE_EVASION.md) | 2 (19-20) | Client-Side Attacks, AV Evasion | 8-10 min |
| **TOTAL** | - | **21 lessons** | Complete pentest curriculum | **65-80 min** |

## Quick Start

### Step 1: Generate All Lessons (1-2 hours)

Run each batch sequentially in ChatGPT:

```bash
# Batch 1: Web Testing (5 lessons)
cat BATCH_01_WEB_TESTING.md
# Copy entire file â†’ Paste into ChatGPT â†’ Save 5 JSON files

# Batch 2: Scanning & Passwords (4 lessons)
cat BATCH_02_SCANNING_PASSWORDS.md
# Copy entire file â†’ Paste into ChatGPT â†’ Save 4 JSON files

# Batch 3: Metasploit (4 lessons)
cat BATCH_03_METASPLOIT.md
# Copy entire file â†’ Paste into ChatGPT â†’ Save 4 JSON files

# Batch 4: Pivoting & Recon (6 lessons)
cat BATCH_04_PIVOTING_RECON.md
# Copy entire file â†’ Paste into ChatGPT â†’ Save 6 JSON files

# Batch 5: Client-Side & Evasion (2 lessons)
cat BATCH_05_CLIENT_SIDE_EVASION.md
# Copy entire file â†’ Paste into ChatGPT â†’ Save 2 JSON files
```

**Result**: 21 JSON files in `content/` directory

### Step 2: Fix Validation Issues (15-30 minutes)

```bash
# Fix any validation errors
python comprehensive_fix.py

# This automatically fixes:
# - Invalid UUIDs
# - Missing fields
# - Content format issues
# - Enum value problems
```

### Step 3: Load into Database (5 minutes)

```bash
# Load all pentest lessons (existing 9 + new 21 = 30 total)
python force_load_domain.py pentest

# Verify
python list_lessons.py
```

**Result**: Pentest domain expands from 9 â†’ 30 lessons âœ…

## Lesson Details

### Batch 1: Web Application Testing (Lessons 10-14)

1. **Lesson 10: Burp Suite Deep Dive** - Complete Burp Suite workflow (Proxy, Intruder, Repeater, Scanner)
2. **Lesson 11: Web Application Enumeration** - Systematic recon with DevTools, API discovery, tech fingerprinting
3. **Lesson 12: Directory Traversal** - Path traversal exploitation, filter bypasses, escalation to RCE
4. **Lesson 13: File Inclusion (LFI/RFI)** - PHP wrappers, log poisoning, LFI â†’ RCE chains
5. **Lesson 14: File Upload Vulnerabilities** - Bypassing MIME, extension, content filters, webshell deployment

**Prerequisites**: None (foundational web testing skills)

---

### Batch 2: Vulnerability Scanning & Password Attacks (Lessons 15-18)

1. **Lesson 15: Nessus Vulnerability Scanning** - Professional scanning, interpreting results, false positive reduction
2. **Lesson 16: Nmap NSE Scripts** - Vulnerability detection with NSE, custom script development
3. **Lesson 17: Password Attacks & Hash Cracking** - Network service brute force, Hashcat, wordlist generation
4. **Lesson 18: NTLM Hashes & Relay Attacks** - Pass-the-Hash, NTLM relay, SMB/LDAP/HTTP relay chains

**Prerequisites**: Basic pentest knowledge

---

### Batch 3: Metasploit Framework (Lessons 21-24)

1. **Lesson 21: Metasploit Fundamentals** - Architecture, workspace management, basic exploitation
2. **Lesson 22: Metasploit Payload Engineering** - Msfvenom, payload types, encoding, handlers
3. **Lesson 23: Metasploit Post-Exploitation** - Meterpreter, credential harvesting, persistence, pivoting
4. **Lesson 24: Automating Metasploit** - Resource scripts, RPC API, Ruby modules, automation

**Prerequisites**: Lessons 21 â†’ 22 â†’ 23 â†’ 24 (sequential)

---

### Batch 4: Network Pivoting & Reconnaissance (Lessons 25-30)

1. **Lesson 25: Pivoting with Linux Tools** - SSH tunneling, ProxyChains, Chisel, Ligolo-ng
2. **Lesson 26: Pivoting with Windows Tools** - netsh, PowerShell remoting, plink, WMI pivoting
3. **Lesson 27: Advanced Tunneling** - DNS/HTTP tunneling, dnscat2, reGeorg, ICMP tunneling
4. **Lesson 28: Protocol Enumeration** - SMB, SNMP, SMTP, DNS, LDAP enumeration
5. **Lesson 29: Living Off the Land Recon** - Native tool reconnaissance, LOLBins, detection avoidance
6. **Lesson 30: Public Exploits** - Finding, analyzing, customizing, and executing public exploits

**Prerequisites**: Lessons 25-26 before 27 (pivoting progression)

---

### Batch 5: Client-Side & Evasion (Lessons 19-20)

1. **Lesson 19: Client-Side Attacks** - Malicious Office macros, LNK files, library files, HTA payloads
2. **Lesson 20: Antivirus Evasion** - Detection mechanisms, obfuscation, AMSI bypass, in-memory execution

**Prerequisites**: Basic exploitation knowledge

---

## Lesson Quality Standards

Each generated lesson includes:

âœ… **4,000-5,500 words** of technical content
âœ… **8 content blocks**: mindset_coach, explanation, video, code_exercise, real_world, memory_aid, reflection
âœ… **2 post-assessment questions** with detailed explanations
âœ… **Real-world case studies** with company names, CVEs, dates
âœ… **Hands-on labs** with commands and expected output
âœ… **YouTube video embeds** (real, relevant tutorials)
âœ… **Memory aids and mnemonics** for retention
âœ… **Markdown formatting** (headers, code blocks, tables)

## File Naming Convention

```
lesson_pentest_[number]_[title_snake_case]_RICH.json
```

Examples:
- `lesson_pentest_10_burp_suite_deep_dive_RICH.json`
- `lesson_pentest_17_password_attacks_hash_cracking_RICH.json`
- `lesson_pentest_25_pivoting_linux_tools_RICH.json`

## Troubleshooting

### Issue: ChatGPT stops mid-generation
**Solution**: Use "Continue" prompt or regenerate the incomplete lesson separately

### Issue: Generated lessons have validation errors
**Solution**: Run `python comprehensive_fix.py` to auto-fix common issues

### Issue: Lessons missing content blocks
**Solution**: Manually add missing blocks or regenerate that specific lesson

### Issue: UUIDs not unique
**Solution**: `comprehensive_fix.py` automatically generates new unique UUIDs

### Issue: Invalid content block types
**Solution**: `comprehensive_fix.py` will flag these - manually correct to valid types

## Progress Tracking

Use this checklist to track generation:

- [ ] **Batch 1**: Web Testing (5 lessons) - Generated & saved
- [ ] **Batch 2**: Scanning & Passwords (4 lessons) - Generated & saved
- [ ] **Batch 3**: Metasploit (4 lessons) - Generated & saved
- [ ] **Batch 4**: Pivoting & Recon (6 lessons) - Generated & saved
- [ ] **Batch 5**: Client-Side & Evasion (2 lessons) - Generated & saved
- [ ] **Validation**: Ran `comprehensive_fix.py`
- [ ] **Loading**: Ran `force_load_domain.py pentest`
- [ ] **Verification**: Confirmed 30 pentest lessons in database
- [ ] **Testing**: Tested lessons in Streamlit app

## Impact After Completion

**Before**:
- Pentest domain: 9 lessons (basic methodology)
- Coverage: ~30% of industry-standard pentest training

**After**:
- Pentest domain: 30 lessons (comprehensive curriculum)
- Coverage: ~85% of industry-standard pentest training
- Alignment: Strong alignment with OffSec PEN-200 (PWK) syllabus

## Related Documentation

- [PWK_COVERAGE_ANALYSIS.md](PWK_COVERAGE_ANALYSIS.md) - Detailed analysis of what PWK topics are covered
- [PWK_NEW_LESSONS_LIST.md](PWK_NEW_LESSONS_LIST.md) - Quick reference list of all 21 lessons
- [CHATGPT_LESSON_PROMPT.md](CHATGPT_LESSON_PROMPT.md) - Original single-lesson prompt template
- [NEXT_LESSONS_PLAN.md](NEXT_LESSONS_PLAN.md) - Overall lesson creation roadmap
- [ACTION_ITEMS.md](ACTION_ITEMS.md) - Quick reference for all workflows

## Tips for Success

1. **Use GPT-4 or o1**: Better quality than GPT-3.5
2. **Generate sequentially**: Complete Batch 1 before Batch 2 (builds context)
3. **Review as you go**: Check generated lessons for quality before moving to next batch
4. **Save immediately**: Copy each lesson JSON and save to file right away
5. **Run fixes early**: Run `comprehensive_fix.py` after each batch to catch issues
6. **Test periodically**: Load and test lessons after each batch

## Time Estimates

| Task | Time |
|------|------|
| Generate all 21 lessons (5 batches) | 65-80 minutes |
| Review and save JSON files | 30-45 minutes |
| Run comprehensive_fix.py | 5 minutes |
| Load into database | 5 minutes |
| Test in Streamlit app | 15-30 minutes |
| **TOTAL** | **2-2.5 hours** |

Compare this to manually writing 21 lessons: **80-100+ hours** ðŸ“ˆ

---

**Ready to start?** Begin with [BATCH_01_WEB_TESTING.md](BATCH_01_WEB_TESTING.md) and work through sequentially!
